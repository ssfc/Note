# v-rep教程

https://www.bilibili.com/video/BV1kS4y1G7Ct/?p=2&spm_id_from=pageDriver&vd_source=3ef4175721f926fbf390a069da19b0ca

ep 2, 界面介绍。查看系统样例。三视图。v-rep怎么关闭打开的scene?    add 添加。     调整大小。   Item shift.   直接拖动；  赋值坐标（大地坐标）；Translation是相对移动。运行后空中的球会掉下来。旋转同理。(2024年5月9日)

ep 3, 四连杆仿真。

ep 4, dummy设定情况。

ep 5, 仿真编程说明。

### Q: v-rep中的dummy是什么？

在V-REP（现在被称为CoppeliaSim）中，“dummy”是一种虚拟的辅助对象（visual helper object），用途非常广泛。虽然它自身不直接参与仿真的物理计算，但dummy可作为参照点、目标位置或路径点等重要的辅助元素在多种场景中发挥作用。它是设计和运行仿真过程中一个极其有用的组件。

Dummy的主要用途包括：

1. **参考和对齐对象**：在复杂的模拟环境中，dummy可以作为参考点或标记，帮助用户在场景中定位或对齐其他对象。

2. **代表目标位置或路径点**：在路径规划和移动仿真中，dummy可以标示预定的目标位置或路径点使移动的对象（如机器人）可以向这些点移动。

3. **作为传感器的检测点**：某些类型的传感器，如接近传感器或视觉传感器，可能需要特定的点来检测。dummy可以作为这些检测任务的目标点。

4. **机械连接的辅助**：在需要定义对象之间的机械连接（如关节、弹簧连接等）的场景中，dummy可以用来精确定义连接的位置和方向。

5. **逆向运动学（IK）的关键点**：在实现逆向运动学时，dummy对象常用作IK链条的目标点，引导机械臂或其他连动结构向期望的位置或姿态运动。

特点：

- **不参与物理仿真**：dummy对象本身不具备质量或物理属性，因此不直接参与物理仿真计算。
- **可视化与隐藏**：根据需要，dummy对象在仿真过程中可以可视化或隐藏，不影响其它仿真元素。
- **可链接到其他对象**：dummy可以链接到场景中的其他对象，以此来建立一种逻辑或空间上的关系。

由于上述特性，dummy在CoppeliaSim（V-REP）的仿真项目中扮演着非常重要的角色，尽管它看起来简单，但在设计和执行仿真时具有极大的灵活性和应用价值。

### Q: v-rep中能否设置物体的加速度？

在V-REP（现称为CoppeliaSim）中，直接设置物体的加速度并不是一个内置的功能。这是因为物理引擎通常是基于力和扭矩来动态模拟物理对象的运动的。物体的加速度是由施加在物体上的力和物体的质量共同决定的（根据牛顿第二定律）。然而，您可以通过一些方法间接控制或模拟加速度的效果。

要模拟加速度，您可以按照以下几种方法之一来操作：

1. **动态计算并应用力**：您可以编写脚本来动态计算并在每个仿真步骤中应用所需的力，以产生期望的加速度。根据牛顿第二定律（F=ma），您可以根据物体的质量和想要的加速度来计算需要施加的力。这种方法可以让您精确地控制物体的加速过程。

2. **使用动力学属性**：您可以通过调整物体的动力学属性（例如，马达的速度或扭矩，或者是通过设置关节的目标速度）来间接实现加速度效果。这要求您有一个对动力系统结构较好的理解，以便能够设置适当的参数以达到期望的加速度行为。

3. **编写自定义控制脚本**：您可以使用CoppeliaSim支持的脚本语言（例如Lua）来开发自定义的控制策略，这通过控制每个仿真步骤中的物体速度或施加的力来实现加速度控制。例如，您可以计算出要在特定时间内达到特定速度所需要的平均加速度，然后使用这个加速度值来确定每个仿真步骤需要施加的力。

示例Lua脚本

下面是一个简单的Lua脚本示例，展示了如何在CoppeliaSim中根据指定的加速度和质量来计算并施加力：

```lua
function sysCall_init()
    objectHandle = sim.getObjectHandle("ObjectName") -- 获取物体的句柄
    mass = sim.getShapeMassAndInertia(objectHandle) -- 获取物体的质量
    acceleration = 1.0 -- 设定加速度（单位：m/s^2）
end

function sysCall_actuation()
    force = mass * acceleration -- 计算需要施加的力
    sim.addForce(objectHandle, {0,0,force}, {0,0,0}) -- 在物体的Z轴施加力
end
```
请注意，您需要将"ObjectName"替换为场景中物体的实际名称，并且可能需要根据物体当前的方向和加速度方向施加力。

总之，尽管CoppeliaSim不直接提供设置加速度的接口，但通过脚本控制施加的力量，您可以实现对物体加速度的有效模拟和控制。